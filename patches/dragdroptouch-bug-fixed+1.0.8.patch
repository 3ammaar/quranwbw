diff --git a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js
index b8245da..04312a9 100644
--- a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js
+++ b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js
@@ -117,6 +117,10 @@ var DragDropTouch;
                     e.preventDefault();
                     return;
                 }
+                if (this._lastTouch == null) {
+                    this._lastTouch = e;
+                    return;
+                }
                 var lastPointOnPage = this._getPoint(this._lastTouch, true);
                 var curPointOnPage = this._getPoint(e, true);
                 this._lastMovementX = curPointOnPage.x - lastPointOnPage.x;
@@ -336,5 +340,5 @@ var DragDropTouch;
 })(DragDropTouch || (DragDropTouch = {}));
 var DragDropTouch$1 = DragDropTouch;
 
-export default DragDropTouch$1;
+export { DragDropTouch$1 as default };
 //# sourceMappingURL=DragDropTouch.esm.js.map
diff --git a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js.map b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js.map
index b5fd179..2f57207 100644
--- a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js.map
+++ b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.esm.js.map
@@ -1 +1 @@
-{"version":3,"file":"DragDropTouch.esm.js","sources":["../src/DragDropTouch.ts"],"sourcesContent":["let DragDropTouch:any\n(function (DragDropTouchExport) {\n  type DropEffect    = 'none'|'copy'|'link'|'move'\n  type allowedEffect = (\n    'none'|'copy'|'copyLink'|'copyMove'|'link'|'linkMove'|'move'|'all'|'uninitialized'\n  )\n\n  type simulatedDataTransfer = {\n    _dropEffect:DropEffect,\n    _effectAllowed:allowedEffect\n    _data:{ [MIMEType:string]:any }\n  }\n\n  let DataTransfer = (function ():any {\n    function DataTransfer (this:simulatedDataTransfer) {\n      this._dropEffect = 'move'\n      this._effectAllowed = 'all'\n      this._data = {}\n    }\n\n    Object.defineProperty(DataTransfer.prototype, \"dropEffect\", {\n      enumerable:true, configurable:true,\n      get: function ()                 { return this._dropEffect },\n      set: function (value:DropEffect) { this._dropEffect = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"effectAllowed\", {\n      enumerable:true, configurable:true,\n      get: function ()                    { return this._effectAllowed },\n      set: function (value:allowedEffect) { this._effectAllowed = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"types\", {\n      enumerable:true, configurable:true,\n      get: function () { return Object.keys(this._data) },\n    })\n\n    DataTransfer.prototype.clearData = function (type:string):void {\n      if (type == null) {\n        this._data = {}\n      } else {\n        delete this._data[type.toLowerCase()]\n      }\n    }\n\n    DataTransfer.prototype.getData = function (type:string):any {\n      return this._data[type.toLowerCase()] || ''\n    }\n\n    DataTransfer.prototype.setData = function (type:string, value:string):void {\n      this._data[type.toLowerCase()] = value\n    }\n\n    DataTransfer.prototype.setDragImage = function (\n      img:Element, offsetX:number,offsetY:number\n    ) {\n      let ddt = DragDropTouchSingleton._instance\n      ddt._imgCustom = img\n      ddt._imgOffset = { x:offsetX, y:offsetY }\n    }\n\n    return DataTransfer\n  }())\n\n  DragDropTouchExport.DataTransfer = DataTransfer\n\n  type DragDropTouchInstance = {\n    _instance:DragDropTouchInstance,\n    getInstance: () => DragDropTouchInstance,\n\n    _lastClick:number,\n    _touchstart:(e:Event) => any,\n    _touchmove:(e:Event) => any,\n    _touchend:(e:Event) => any,\n\n    _imgCustom:Element,\n    _imgOffset: { x:number, y:number },\n\n    _THRESHOLD:number,\n    _OPACITY:number,\n    _DBLCLICK:number,\n    _CTXMENU:number,\n    _ISPRESSHOLDMODE:boolean,\n    _PRESSHOLDAWAIT:number,\n    _PRESSHOLDMARGIN:number,\n    _PRESSHOLDTHRESHOLD:number,\n\n    _rmvAtts:string[],\n    _kbdProps:string[],\n    _ptProps:string[],\n  }\n\n  let DragDropTouchSingleton:DragDropTouchInstance = (function () {\n    function DragDropTouch (this:DragDropTouchInstance) {\n      this._lastClick = 0\n\n      if (\n        (DragDropTouchSingleton != null) &&\n        (DragDropTouchSingleton._instance != null)\n      ) {\n        throw new Error('DragDropTouch instance already created.')\n      }\n\n      // https://github.com/Modernizr/Modernizr/issues/1894\n      let supportsPassive:boolean = false\n      document.addEventListener('test', function () {}, {\n        get passive() { supportsPassive = true; return true }\n      })\n\n      if (navigator.maxTouchPoints > 0) {\n        let touchstart = this._touchstart.bind(this)\n        let touchmove  = this._touchmove.bind(this)\n        let touchend   = this._touchend.bind(this)\n\n        let Options = (\n          supportsPassive ? { passive:false, capture:false } : false\n        )\n\n        document.addEventListener('touchstart',  touchstart, Options)\n        document.addEventListener('touchmove',   touchmove,  Options)\n        document.addEventListener('touchend',    touchend)\n        document.addEventListener('touchcancel', touchend)\n      }\n    }\n\n    DragDropTouch.getInstance = function ():DragDropTouchInstance {\n      return DragDropTouchSingleton._instance\n    }\n\n  /**** Event Handlers ****/\n\n    DragDropTouch.prototype._touchstart = function (e:Event) {\n      let _this = this\n      if (this._shouldHandle(e)) {\n        if (Date.now() - this._lastClick < DragDropTouchSingleton._DBLCLICK) {\n          if (this._dispatchEvent(e, 'dblclick', e.target)) {\n            e.preventDefault()\n            this._reset()\n            return\n          }\n        }\n\n        this._reset()\n\n        let src = this._closestDraggable(e.target)\n        if (src != null) {\n          if (\n            ! this._dispatchEvent(e, 'mousemove', e.target) &&\n            ! this._dispatchEvent(e, 'mousedown', e.target)\n          ) {\n            this._dragSource = src\n            this._ptDown     = this._getPoint(e)\n            this._lastTouch  = e\n            e.preventDefault()\n\n            setTimeout(function () {\n              if ((_this._dragSource === src) && (_this._img == null)) {\n                if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                  _this._reset()\n                }\n              }\n            }, DragDropTouchSingleton._CTXMENU)\n\n            if (DragDropTouchSingleton._ISPRESSHOLDMODE) {\n              this._pressHoldInterval = setTimeout(function () {\n                _this._isDragEnabled = true\n                _this._touchmove(e)\n              }, DragDropTouchSingleton._PRESSHOLDAWAIT)\n            }\n          }\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchmove = function (e:Event) {\n      if (this._shouldCancelPressHoldMove(e)) {\n        this._reset()\n        return\n      }\n\n      if (this._shouldHandleMove(e) || this._shouldHandlePressHoldMove(e)) {\n        let target = this._getTarget(e)\n        if (this._dispatchEvent(e, 'mousemove', target)) {\n          this._lastTouch = e\n          e.preventDefault()\n          return\n        }\n\n        let lastPointOnPage = this._getPoint(this._lastTouch,true)\n        let curPointOnPage  = this._getPoint(e,true)\n          this._lastMovementX = curPointOnPage.x - lastPointOnPage.x\n          this._lastMovementY = curPointOnPage.y - lastPointOnPage.y\n        let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n        if (this._dragSource && (this._img == null) && this._shouldStartDragging(e)) {\n          this._dispatchEvent(e, 'dragstart', this._dragSource, Extras)\n          this._createImage(e)\n          this._dispatchEvent(e, 'dragenter', target, Extras)\n        }\n\n        if (this._img != null) {\n          this._lastTouch = e\n          e.preventDefault()\n\n          this._dispatchEvent(e, 'drag', this._dragSource, Extras)\n\n          if (target != this._lastTarget) {\n            this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget, Extras)\n            this._dispatchEvent(e, 'dragenter', target, Extras)\n            this._lastTarget = target\n          }\n\n          this._moveImage(e)\n          this._isDropZone = this._dispatchEvent(e, 'dragover', target, Extras)\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchend = function (e:Event) {\n      if (this._shouldHandle(e)) {\n        if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n          e.preventDefault()\n          return\n        }\n\n        if (this._img == null) {\n          this._dragSource = null\n          this._dispatchEvent(this._lastTouch, 'click', e.target)\n          this._lastClick = Date.now()\n        }\n\n        this._destroyImage()\n        if (this._dragSource) {\n          let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n          if (e.type.indexOf('cancel') < 0 && this._isDropZone) {\n            this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget, Extras)\n          }\n          this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource, Extras)\n          this._reset()\n        }\n      }\n    }\n\n  /**** Utility Functions ****/\n\n    DragDropTouch.prototype._shouldHandle = function (e:Event):boolean {\n      return (\n        (e != null) && ! e.defaultPrevented &&\n        ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length < 2)\n      )\n    }\n\n    DragDropTouch.prototype._shouldHandleMove = function (e:Event):boolean {\n      return ! DragDropTouchSingleton._ISPRESSHOLDMODE && this._shouldHandle(e)\n    }\n\n    DragDropTouch.prototype._shouldHandlePressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && this._isDragEnabled &&\n        (e != null) && ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length > 0)\n      )\n    }\n\n    DragDropTouch.prototype._shouldCancelPressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._isDragEnabled &&\n        (this._getDelta(e) > DragDropTouchSingleton._PRESSHOLDMARGIN)\n      )\n    }\n\n    DragDropTouch.prototype._shouldStartDragging = function (e:Event):boolean {\n      let delta = this._getDelta(e)\n      return (\n        (delta > DragDropTouchSingleton._THRESHOLD) ||\n        DragDropTouchSingleton._ISPRESSHOLDMODE && (delta >= DragDropTouchSingleton._PRESSHOLDTHRESHOLD)\n      )\n    }\n\n    DragDropTouch.prototype._reset = function ():void {\n      this._destroyImage()\n      this._dragSource = null\n      this._lastTouch  = null\n      this._lastTarget = null\n      this._ptDown = null\n      this._isDragEnabled = false\n      this._isDropZone = false\n      this._dataTransfer = new DataTransfer()\n      this._lastMovementX = 0\n      this._lastMovementY = 0\n      clearInterval(this._pressHoldInterval)\n    }\n\n    DragDropTouch.prototype._getPoint = function (e:MouseEvent|TouchEvent, page:boolean):any {\n      if (\n        (e != null) && ((e as TouchEvent).touches != null) &&\n        ((e as TouchEvent).touches.length > 0)\n      ) {\n        let Touch = (e as TouchEvent).touches[0]\n        return { x: page ? Touch.pageX : Touch.clientX, y: page ? Touch.pageY : Touch.clientY }\n      } else {\n        let Event = e as MouseEvent\n        return { x: page ? Event.pageX : Event.clientX, y: page ? Event.pageY : Event.clientY }\n      }\n    }\n\n    DragDropTouch.prototype._getDelta = function (e:Event) {\n      if (DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._ptDown) { return 0 }\n      let p = this._getPoint(e)\n      return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y)\n    }\n\n    DragDropTouch.prototype._getTarget = function (e:Event) {\n      let pt = this._getPoint(e)\n      let el = document.elementFromPoint(pt.x, pt.y)\n\n      while ((el != null) && (getComputedStyle(el).pointerEvents == 'none')) {\n        el = el.parentElement\n      }\n      return el\n    }\n\n    DragDropTouch.prototype._createImage = function (e:Event):void {\n      if (this._img != null) { this._destroyImage() }\n\n      let src = this._imgCustom || this._dragSource\n      this._img = src.cloneNode(true)\n      this._copyStyle(src, this._img)\n      this._img.style.top = this._img.style.left = '-9999px'\n\n      if (this._imgCustom == null) {\n        let rc = src.getBoundingClientRect()\n        let pt = this._getPoint(e)\n\n        this._imgOffset = { x: pt.x - rc.left, y: pt.y - rc.top }\n        this._img.style.opacity = DragDropTouchSingleton._OPACITY.toString()\n      }\n\n      this._moveImage(e)\n      document.body.appendChild(this._img)\n    }\n\n    DragDropTouch.prototype._destroyImage = function ():void {\n      if ((this._img != null) && (this._img.parentElement != null)) {\n        this._img.parentElement.removeChild(this._img)\n      }\n      this._img = null\n      this._imgCustom = null\n    }\n\n    DragDropTouch.prototype._moveImage = function (e:Event) {\n      let _this = this\n      requestAnimationFrame(function () {\n        if (_this._img != null) {\n          let pt = _this._getPoint(e, true), s = _this._img.style\n          s.position = 'absolute'\n          s.pointerEvents = 'none'\n          s.zIndex = '999999'\n          s.left = Math.round(pt.x - _this._imgOffset.x) + 'px'\n          s.top = Math.round(pt.y - _this._imgOffset.y) + 'px'\n        }\n      })\n    }\n\n    DragDropTouch.prototype._copyProps = function (\n      dst:any, src:any, props:string[]\n    ):void {\n      for (let i = 0; i < props.length; i++) {\n        let p = props[i]\n        dst[p] = src[p]\n      }\n    }\n\n    DragDropTouch.prototype._copyStyle = function (src:any, dst:any):void {\n      DragDropTouchSingleton._rmvAtts.forEach(function (att:string) {\n        dst.removeAttribute(att)\n      })\n\n      if (src instanceof HTMLCanvasElement) {\n        let cSrc = src, cDst = dst\n        cDst.width = cSrc.width\n        cDst.height = cSrc.height\n        cDst.getContext('2d').drawImage(cSrc, 0, 0)\n      }\n\n      let cs = getComputedStyle(src) as any // poor trick to satisfy compiler\n      for (let i = 0; i < cs.length; i++) {\n        let key = cs[i]\n        if (key.indexOf('transition') < 0) {\n          dst.style[key] = cs[key]\n        }\n      }\n      dst.style.pointerEvents = 'none'\n\n      for (let i = 0; i < src.children.length; i++) {\n        this._copyStyle(src.children[i], dst.children[i])\n      }\n    }\n\n    DragDropTouch.prototype._dispatchEvent = function (\n      e:any /* poor TypeScript trick */, type:string, target:Element,\n      Extras?:{ movementX:number, movementY:number }\n    ):boolean {\n      if ((e != null) && (target != null)) {\n        let evt = document.createEvent('Event') as any // poor trick to satisfy compiler\n        let t = (e['touches'] != null) ? e['touches'][0] : e\n          evt.initEvent(type, true, true)\n          evt['button'] = 0\n          evt['which'] = evt['buttons'] = 1\n          this._copyProps(evt, e, DragDropTouchSingleton._kbdProps)\n          this._copyProps(evt, t, DragDropTouchSingleton._ptProps)\n          evt['dataTransfer'] = this._dataTransfer\n\n          if (Extras != null) {\n            evt['movementX'] = Extras.movementX\n            evt['movementY'] = Extras.movementY\n          }\n        target.dispatchEvent(evt)\n        return evt.defaultPrevented\n      }\n      return false\n    }\n\n    DragDropTouch.prototype._closestDraggable = function (e:Element|null) {\n      for (; e; e = e.parentElement) {\n        if (e.hasAttribute('draggable') && e.getAttribute('draggable')) {\n          return e\n        }\n      }\n      return null\n    }\n\n// @ts-ignore\n    let Singleton = new DragDropTouch()\n      Singleton._instance = Singleton\n    return Singleton\n  }())\n\n  DragDropTouchExport.DragDropTouch = DragDropTouchSingleton\n\n  let Singleton = DragDropTouch.DragDropTouch\n\n  Singleton._THRESHOLD = 5; // pixels to move before drag starts\n  Singleton._OPACITY = 0.5; // drag image opacity\n  Singleton._DBLCLICK = 500; // max ms between clicks in a double click\n  Singleton._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n  Singleton._ISPRESSHOLDMODE = false; // decides of press & hold mode presence\n  Singleton._PRESSHOLDAWAIT = 400; // ms to wait before press & hold is detected\n  Singleton._PRESSHOLDMARGIN = 25; // pixels that finger might shiver while pressing\n  Singleton._PRESSHOLDTHRESHOLD = 0; // pixels to move before drag starts\n\n  Singleton._rmvAtts = 'id,class,style,draggable'.split(',')\n\n  Singleton._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',')\n  Singleton._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY'.split(',')\n})(DragDropTouch || (DragDropTouch = {}))\n\nexport default DragDropTouch\n\n"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"DragDropTouch.esm.js","sources":["../src/DragDropTouch.ts"],"sourcesContent":["let DragDropTouch:any\n(function (DragDropTouchExport) {\n  type DropEffect    = 'none'|'copy'|'link'|'move'\n  type allowedEffect = (\n    'none'|'copy'|'copyLink'|'copyMove'|'link'|'linkMove'|'move'|'all'|'uninitialized'\n  )\n\n  type simulatedDataTransfer = {\n    _dropEffect:DropEffect,\n    _effectAllowed:allowedEffect\n    _data:{ [MIMEType:string]:any }\n  }\n\n  let DataTransfer = (function ():any {\n    function DataTransfer (this:simulatedDataTransfer) {\n      this._dropEffect = 'move'\n      this._effectAllowed = 'all'\n      this._data = {}\n    }\n\n    Object.defineProperty(DataTransfer.prototype, \"dropEffect\", {\n      enumerable:true, configurable:true,\n      get: function ()                 { return this._dropEffect },\n      set: function (value:DropEffect) { this._dropEffect = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"effectAllowed\", {\n      enumerable:true, configurable:true,\n      get: function ()                    { return this._effectAllowed },\n      set: function (value:allowedEffect) { this._effectAllowed = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"types\", {\n      enumerable:true, configurable:true,\n      get: function () { return Object.keys(this._data) },\n    })\n\n    DataTransfer.prototype.clearData = function (type:string):void {\n      if (type == null) {\n        this._data = {}\n      } else {\n        delete this._data[type.toLowerCase()]\n      }\n    }\n\n    DataTransfer.prototype.getData = function (type:string):any {\n      return this._data[type.toLowerCase()] || ''\n    }\n\n    DataTransfer.prototype.setData = function (type:string, value:string):void {\n      this._data[type.toLowerCase()] = value\n    }\n\n    DataTransfer.prototype.setDragImage = function (\n      img:Element, offsetX:number,offsetY:number\n    ) {\n      let ddt = DragDropTouchSingleton._instance\n      ddt._imgCustom = img\n      ddt._imgOffset = { x:offsetX, y:offsetY }\n    }\n\n    return DataTransfer\n  }())\n\n  DragDropTouchExport.DataTransfer = DataTransfer\n\n  type DragDropTouchInstance = {\n    _instance:DragDropTouchInstance,\n    getInstance: () => DragDropTouchInstance,\n\n    _lastClick:number,\n    _touchstart:(e:Event) => any,\n    _touchmove:(e:Event) => any,\n    _touchend:(e:Event) => any,\n\n    _imgCustom:Element,\n    _imgOffset: { x:number, y:number },\n\n    _THRESHOLD:number,\n    _OPACITY:number,\n    _DBLCLICK:number,\n    _CTXMENU:number,\n    _ISPRESSHOLDMODE:boolean,\n    _PRESSHOLDAWAIT:number,\n    _PRESSHOLDMARGIN:number,\n    _PRESSHOLDTHRESHOLD:number,\n\n    _rmvAtts:string[],\n    _kbdProps:string[],\n    _ptProps:string[],\n  }\n\n  let DragDropTouchSingleton:DragDropTouchInstance = (function () {\n    function DragDropTouch (this:DragDropTouchInstance) {\n      this._lastClick = 0\n\n      if (\n        (DragDropTouchSingleton != null) &&\n        (DragDropTouchSingleton._instance != null)\n      ) {\n        throw new Error('DragDropTouch instance already created.')\n      }\n\n      // https://github.com/Modernizr/Modernizr/issues/1894\n      let supportsPassive:boolean = false\n      document.addEventListener('test', function () {}, {\n        get passive() { supportsPassive = true; return true }\n      })\n\n      if (navigator.maxTouchPoints > 0) {\n        let touchstart = this._touchstart.bind(this)\n        let touchmove  = this._touchmove.bind(this)\n        let touchend   = this._touchend.bind(this)\n\n        let Options = (\n          supportsPassive ? { passive:false, capture:false } : false\n        )\n\n        document.addEventListener('touchstart',  touchstart, Options)\n        document.addEventListener('touchmove',   touchmove,  Options)\n        document.addEventListener('touchend',    touchend)\n        document.addEventListener('touchcancel', touchend)\n      }\n    }\n\n    DragDropTouch.getInstance = function ():DragDropTouchInstance {\n      return DragDropTouchSingleton._instance\n    }\n\n  /**** Event Handlers ****/\n\n    DragDropTouch.prototype._touchstart = function (e:Event) {\n      let _this = this\n      if (this._shouldHandle(e)) {\n        if (Date.now() - this._lastClick < DragDropTouchSingleton._DBLCLICK) {\n          if (this._dispatchEvent(e, 'dblclick', e.target)) {\n            e.preventDefault()\n            this._reset()\n            return\n          }\n        }\n\n        this._reset()\n\n        let src = this._closestDraggable(e.target)\n        if (src != null) {\n          if (\n            ! this._dispatchEvent(e, 'mousemove', e.target) &&\n            ! this._dispatchEvent(e, 'mousedown', e.target)\n          ) {\n            this._dragSource = src\n            this._ptDown     = this._getPoint(e)\n            this._lastTouch  = e\n            e.preventDefault()\n\n            setTimeout(function () {\n              if ((_this._dragSource === src) && (_this._img == null)) {\n                if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                  _this._reset()\n                }\n              }\n            }, DragDropTouchSingleton._CTXMENU)\n\n            if (DragDropTouchSingleton._ISPRESSHOLDMODE) {\n              this._pressHoldInterval = setTimeout(function () {\n                _this._isDragEnabled = true\n                _this._touchmove(e)\n              }, DragDropTouchSingleton._PRESSHOLDAWAIT)\n            }\n          }\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchmove = function (e:Event) {\n      if (this._shouldCancelPressHoldMove(e)) {\n        this._reset()\n        return\n      }\n\n      if (this._shouldHandleMove(e) || this._shouldHandlePressHoldMove(e)) {\n        let target = this._getTarget(e)\n        if (this._dispatchEvent(e, 'mousemove', target)) {\n          this._lastTouch = e\n          e.preventDefault()\n          return\n        }\n        if (this._lastTouch == null) {\n          this._lastTouch = e\n          return\n        }\n\n        let lastPointOnPage = this._getPoint(this._lastTouch,true)\n        let curPointOnPage  = this._getPoint(e,true)\n          this._lastMovementX = curPointOnPage.x - lastPointOnPage.x\n          this._lastMovementY = curPointOnPage.y - lastPointOnPage.y\n        let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n        if (this._dragSource && (this._img == null) && this._shouldStartDragging(e)) {\n          this._dispatchEvent(e, 'dragstart', this._dragSource, Extras)\n          this._createImage(e)\n          this._dispatchEvent(e, 'dragenter', target, Extras)\n        }\n\n        if (this._img != null) {\n          this._lastTouch = e\n          e.preventDefault()\n\n          this._dispatchEvent(e, 'drag', this._dragSource, Extras)\n\n          if (target != this._lastTarget) {\n            this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget, Extras)\n            this._dispatchEvent(e, 'dragenter', target, Extras)\n            this._lastTarget = target\n          }\n\n          this._moveImage(e)\n          this._isDropZone = this._dispatchEvent(e, 'dragover', target, Extras)\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchend = function (e:Event) {\n      if (this._shouldHandle(e)) {\n        if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n          e.preventDefault()\n          return\n        }\n\n        if (this._img == null) {\n          this._dragSource = null\n          this._dispatchEvent(this._lastTouch, 'click', e.target)\n          this._lastClick = Date.now()\n        }\n\n        this._destroyImage()\n        if (this._dragSource) {\n          let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n          if (e.type.indexOf('cancel') < 0 && this._isDropZone) {\n            this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget, Extras)\n          }\n          this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource, Extras)\n          this._reset()\n        }\n      }\n    }\n\n  /**** Utility Functions ****/\n\n    DragDropTouch.prototype._shouldHandle = function (e:Event):boolean {\n      return (\n        (e != null) && ! e.defaultPrevented &&\n        ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length < 2)\n      )\n    }\n\n    DragDropTouch.prototype._shouldHandleMove = function (e:Event):boolean {\n      return ! DragDropTouchSingleton._ISPRESSHOLDMODE && this._shouldHandle(e)\n    }\n\n    DragDropTouch.prototype._shouldHandlePressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && this._isDragEnabled &&\n        (e != null) && ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length > 0)\n      )\n    }\n\n    DragDropTouch.prototype._shouldCancelPressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._isDragEnabled &&\n        (this._getDelta(e) > DragDropTouchSingleton._PRESSHOLDMARGIN)\n      )\n    }\n\n    DragDropTouch.prototype._shouldStartDragging = function (e:Event):boolean {\n      let delta = this._getDelta(e)\n      return (\n        (delta > DragDropTouchSingleton._THRESHOLD) ||\n        DragDropTouchSingleton._ISPRESSHOLDMODE && (delta >= DragDropTouchSingleton._PRESSHOLDTHRESHOLD)\n      )\n    }\n\n    DragDropTouch.prototype._reset = function ():void {\n      this._destroyImage()\n      this._dragSource = null\n      this._lastTouch  = null\n      this._lastTarget = null\n      this._ptDown = null\n      this._isDragEnabled = false\n      this._isDropZone = false\n      this._dataTransfer = new DataTransfer()\n      this._lastMovementX = 0\n      this._lastMovementY = 0\n      clearInterval(this._pressHoldInterval)\n    }\n\n    DragDropTouch.prototype._getPoint = function (e:MouseEvent|TouchEvent, page:boolean):any {\n      if (\n        (e != null) && ((e as TouchEvent).touches != null) &&\n        ((e as TouchEvent).touches.length > 0)\n      ) {\n        let Touch = (e as TouchEvent).touches[0]\n        return { x: page ? Touch.pageX : Touch.clientX, y: page ? Touch.pageY : Touch.clientY }\n      } else {\n        let Event = e as MouseEvent\n        return { x: page ? Event.pageX : Event.clientX, y: page ? Event.pageY : Event.clientY }\n      }\n    }\n\n    DragDropTouch.prototype._getDelta = function (e:Event) {\n      if (DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._ptDown) { return 0 }\n      let p = this._getPoint(e)\n      return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y)\n    }\n\n    DragDropTouch.prototype._getTarget = function (e:Event) {\n      let pt = this._getPoint(e)\n      let el = document.elementFromPoint(pt.x, pt.y)\n\n      while ((el != null) && (getComputedStyle(el).pointerEvents == 'none')) {\n        el = el.parentElement\n      }\n      return el\n    }\n\n    DragDropTouch.prototype._createImage = function (e:Event):void {\n      if (this._img != null) { this._destroyImage() }\n\n      let src = this._imgCustom || this._dragSource\n      this._img = src.cloneNode(true)\n      this._copyStyle(src, this._img)\n      this._img.style.top = this._img.style.left = '-9999px'\n\n      if (this._imgCustom == null) {\n        let rc = src.getBoundingClientRect()\n        let pt = this._getPoint(e)\n\n        this._imgOffset = { x: pt.x - rc.left, y: pt.y - rc.top }\n        this._img.style.opacity = DragDropTouchSingleton._OPACITY.toString()\n      }\n\n      this._moveImage(e)\n      document.body.appendChild(this._img)\n    }\n\n    DragDropTouch.prototype._destroyImage = function ():void {\n      if ((this._img != null) && (this._img.parentElement != null)) {\n        this._img.parentElement.removeChild(this._img)\n      }\n      this._img = null\n      this._imgCustom = null\n    }\n\n    DragDropTouch.prototype._moveImage = function (e:Event) {\n      let _this = this\n      requestAnimationFrame(function () {\n        if (_this._img != null) {\n          let pt = _this._getPoint(e, true), s = _this._img.style\n          s.position = 'absolute'\n          s.pointerEvents = 'none'\n          s.zIndex = '999999'\n          s.left = Math.round(pt.x - _this._imgOffset.x) + 'px'\n          s.top = Math.round(pt.y - _this._imgOffset.y) + 'px'\n        }\n      })\n    }\n\n    DragDropTouch.prototype._copyProps = function (\n      dst:any, src:any, props:string[]\n    ):void {\n      for (let i = 0; i < props.length; i++) {\n        let p = props[i]\n        dst[p] = src[p]\n      }\n    }\n\n    DragDropTouch.prototype._copyStyle = function (src:any, dst:any):void {\n      DragDropTouchSingleton._rmvAtts.forEach(function (att:string) {\n        dst.removeAttribute(att)\n      })\n\n      if (src instanceof HTMLCanvasElement) {\n        let cSrc = src, cDst = dst\n        cDst.width = cSrc.width\n        cDst.height = cSrc.height\n        cDst.getContext('2d').drawImage(cSrc, 0, 0)\n      }\n\n      let cs = getComputedStyle(src) as any // poor trick to satisfy compiler\n      for (let i = 0; i < cs.length; i++) {\n        let key = cs[i]\n        if (key.indexOf('transition') < 0) {\n          dst.style[key] = cs[key]\n        }\n      }\n      dst.style.pointerEvents = 'none'\n\n      for (let i = 0; i < src.children.length; i++) {\n        this._copyStyle(src.children[i], dst.children[i])\n      }\n    }\n\n    DragDropTouch.prototype._dispatchEvent = function (\n      e:any /* poor TypeScript trick */, type:string, target:Element,\n      Extras?:{ movementX:number, movementY:number }\n    ):boolean {\n      if ((e != null) && (target != null)) {\n        let evt = document.createEvent('Event') as any // poor trick to satisfy compiler\n        let t = (e['touches'] != null) ? e['touches'][0] : e\n          evt.initEvent(type, true, true)\n          evt['button'] = 0\n          evt['which'] = evt['buttons'] = 1\n          this._copyProps(evt, e, DragDropTouchSingleton._kbdProps)\n          this._copyProps(evt, t, DragDropTouchSingleton._ptProps)\n          evt['dataTransfer'] = this._dataTransfer\n\n          if (Extras != null) {\n            evt['movementX'] = Extras.movementX\n            evt['movementY'] = Extras.movementY\n          }\n        target.dispatchEvent(evt)\n        return evt.defaultPrevented\n      }\n      return false\n    }\n\n    DragDropTouch.prototype._closestDraggable = function (e:Element|null) {\n      for (; e; e = e.parentElement) {\n        if (e.hasAttribute('draggable') && e.getAttribute('draggable')) {\n          return e\n        }\n      }\n      return null\n    }\n\n// @ts-ignore\n    let Singleton = new DragDropTouch()\n      Singleton._instance = Singleton\n    return Singleton\n  }())\n\n  DragDropTouchExport.DragDropTouch = DragDropTouchSingleton\n\n  let Singleton = DragDropTouch.DragDropTouch\n\n  Singleton._THRESHOLD = 5; // pixels to move before drag starts\n  Singleton._OPACITY = 0.5; // drag image opacity\n  Singleton._DBLCLICK = 500; // max ms between clicks in a double click\n  Singleton._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n  Singleton._ISPRESSHOLDMODE = false; // decides of press & hold mode presence\n  Singleton._PRESSHOLDAWAIT = 400; // ms to wait before press & hold is detected\n  Singleton._PRESSHOLDMARGIN = 25; // pixels that finger might shiver while pressing\n  Singleton._PRESSHOLDTHRESHOLD = 0; // pixels to move before drag starts\n\n  Singleton._rmvAtts = 'id,class,style,draggable'.split(',')\n\n  Singleton._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',')\n  Singleton._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY'.split(',')\n})(DragDropTouch || (DragDropTouch = {}))\n\nexport default DragDropTouch\n\n"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js
index 3a792a5..aeaf72b 100644
--- a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js
+++ b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js
@@ -1,2 +1,2 @@
-!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var n=t.DragDropTouch,i=t.DragDropTouch=e();i.noConflict=function(){return t.DragDropTouch=n,i}}())}(this,(function(){"use strict";var t;return function(e){var n=function(){function t(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(t.prototype,"dropEffect",{enumerable:!0,configurable:!0,get:function(){return this._dropEffect},set:function(t){this._dropEffect=t}}),Object.defineProperty(t.prototype,"effectAllowed",{enumerable:!0,configurable:!0,get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=t}}),Object.defineProperty(t.prototype,"types",{enumerable:!0,configurable:!0,get:function(){return Object.keys(this._data)}}),t.prototype.clearData=function(t){null==t?this._data={}:delete this._data[t.toLowerCase()]},t.prototype.getData=function(t){return this._data[t.toLowerCase()]||""},t.prototype.setData=function(t,e){this._data[t.toLowerCase()]=e},t.prototype.setDragImage=function(t,e,n){var o=i._instance;o._imgCustom=t,o._imgOffset={x:e,y:n}},t}();e.DataTransfer=n;var i=function(){function t(){if(this._lastClick=0,null!=i&&null!=i._instance)throw new Error("DragDropTouch instance already created.");var t=!1;if(document.addEventListener("test",(function(){}),{get passive(){return t=!0,!0}}),navigator.maxTouchPoints>0){var e=this._touchstart.bind(this),n=this._touchmove.bind(this),o=this._touchend.bind(this),s=!!t&&{passive:!1,capture:!1};document.addEventListener("touchstart",e,s),document.addEventListener("touchmove",n,s),document.addEventListener("touchend",o),document.addEventListener("touchcancel",o)}}t.getInstance=function(){return i._instance},t.prototype._touchstart=function(t){var e=this;if(this._shouldHandle(t)){if(Date.now()-this._lastClick<i._DBLCLICK&&this._dispatchEvent(t,"dblclick",t.target))return t.preventDefault(),void this._reset();this._reset();var n=this._closestDraggable(t.target);null!=n&&(this._dispatchEvent(t,"mousemove",t.target)||this._dispatchEvent(t,"mousedown",t.target)||(this._dragSource=n,this._ptDown=this._getPoint(t),this._lastTouch=t,t.preventDefault(),setTimeout((function(){e._dragSource===n&&null==e._img&&e._dispatchEvent(t,"contextmenu",n)&&e._reset()}),i._CTXMENU),i._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout((function(){e._isDragEnabled=!0,e._touchmove(t)}),i._PRESSHOLDAWAIT))))}},t.prototype._touchmove=function(t){if(this._shouldCancelPressHoldMove(t))this._reset();else if(this._shouldHandleMove(t)||this._shouldHandlePressHoldMove(t)){var e=this._getTarget(t);if(this._dispatchEvent(t,"mousemove",e))return this._lastTouch=t,void t.preventDefault();var n=this._getPoint(this._lastTouch,!0),i=this._getPoint(t,!0);this._lastMovementX=i.x-n.x,this._lastMovementY=i.y-n.y;var o={movementX:this._lastMovementX,movementY:this._lastMovementY};this._dragSource&&null==this._img&&this._shouldStartDragging(t)&&(this._dispatchEvent(t,"dragstart",this._dragSource,o),this._createImage(t),this._dispatchEvent(t,"dragenter",e,o)),null!=this._img&&(this._lastTouch=t,t.preventDefault(),this._dispatchEvent(t,"drag",this._dragSource,o),e!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget,o),this._dispatchEvent(t,"dragenter",e,o),this._lastTarget=e),this._moveImage(t),this._isDropZone=this._dispatchEvent(t,"dragover",e,o))}},t.prototype._touchend=function(t){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target))return void t.preventDefault();if(null==this._img&&(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource){var e={movementX:this._lastMovementX,movementY:this._lastMovementY};t.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget,e),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource,e),this._reset()}}},t.prototype._shouldHandle=function(t){return null!=t&&!t.defaultPrevented&&null!=t.touches&&t.touches.length<2},t.prototype._shouldHandleMove=function(t){return!i._ISPRESSHOLDMODE&&this._shouldHandle(t)},t.prototype._shouldHandlePressHoldMove=function(t){return i._ISPRESSHOLDMODE&&this._isDragEnabled&&null!=t&&null!=t.touches&&t.touches.length>0},t.prototype._shouldCancelPressHoldMove=function(t){return i._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(t)>i._PRESSHOLDMARGIN},t.prototype._shouldStartDragging=function(t){var e=this._getDelta(t);return e>i._THRESHOLD||i._ISPRESSHOLDMODE&&e>=i._PRESSHOLDTHRESHOLD},t.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new n,this._lastMovementX=0,this._lastMovementY=0,clearInterval(this._pressHoldInterval)},t.prototype._getPoint=function(t,e){if(null!=t&&null!=t.touches&&t.touches.length>0){var n=t.touches[0];return{x:e?n.pageX:n.clientX,y:e?n.pageY:n.clientY}}var i=t;return{x:e?i.pageX:i.clientX,y:e?i.pageY:i.clientY}},t.prototype._getDelta=function(t){if(i._ISPRESSHOLDMODE&&!this._ptDown)return 0;var e=this._getPoint(t);return Math.abs(e.x-this._ptDown.x)+Math.abs(e.y-this._ptDown.y)},t.prototype._getTarget=function(t){for(var e=this._getPoint(t),n=document.elementFromPoint(e.x,e.y);null!=n&&"none"==getComputedStyle(n).pointerEvents;)n=n.parentElement;return n},t.prototype._createImage=function(t){null!=this._img&&this._destroyImage();var e=this._imgCustom||this._dragSource;if(this._img=e.cloneNode(!0),this._copyStyle(e,this._img),this._img.style.top=this._img.style.left="-9999px",null==this._imgCustom){var n=e.getBoundingClientRect(),o=this._getPoint(t);this._imgOffset={x:o.x-n.left,y:o.y-n.top},this._img.style.opacity=i._OPACITY.toString()}this._moveImage(t),document.body.appendChild(this._img)},t.prototype._destroyImage=function(){null!=this._img&&null!=this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},t.prototype._moveImage=function(t){var e=this;requestAnimationFrame((function(){if(null!=e._img){var n=e._getPoint(t,!0),i=e._img.style;i.position="absolute",i.pointerEvents="none",i.zIndex="999999",i.left=Math.round(n.x-e._imgOffset.x)+"px",i.top=Math.round(n.y-e._imgOffset.y)+"px"}}))},t.prototype._copyProps=function(t,e,n){for(var i=0;i<n.length;i++){var o=n[i];t[o]=e[o]}},t.prototype._copyStyle=function(t,e){if(i._rmvAtts.forEach((function(t){e.removeAttribute(t)})),t instanceof HTMLCanvasElement){var n=t,o=e;o.width=n.width,o.height=n.height,o.getContext("2d").drawImage(n,0,0)}for(var s=getComputedStyle(t),r=0;r<s.length;r++){var a=s[r];a.indexOf("transition")<0&&(e.style[a]=s[a])}e.style.pointerEvents="none";for(r=0;r<t.children.length;r++)this._copyStyle(t.children[r],e.children[r])},t.prototype._dispatchEvent=function(t,e,n,o){if(null!=t&&null!=n){var s=document.createEvent("Event"),r=null!=t.touches?t.touches[0]:t;return s.initEvent(e,!0,!0),s.button=0,s.which=s.buttons=1,this._copyProps(s,t,i._kbdProps),this._copyProps(s,r,i._ptProps),s.dataTransfer=this._dataTransfer,null!=o&&(s.movementX=o.movementX,s.movementY=o.movementY),n.dispatchEvent(s),s.defaultPrevented}return!1},t.prototype._closestDraggable=function(t){for(;t;t=t.parentElement)if(t.hasAttribute("draggable")&&t.getAttribute("draggable"))return t;return null};var e=new t;return e._instance=e,e}();e.DragDropTouch=i;var o=t.DragDropTouch;o._THRESHOLD=5,o._OPACITY=.5,o._DBLCLICK=500,o._CTXMENU=900,o._ISPRESSHOLDMODE=!1,o._PRESSHOLDAWAIT=400,o._PRESSHOLDMARGIN=25,o._PRESSHOLDTHRESHOLD=0,o._rmvAtts="id,class,style,draggable".split(","),o._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),o._ptProps="pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY".split(",")}(t||(t={})),t}));
+!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var n=t.DragDropTouch,i=t.DragDropTouch=e();i.noConflict=function(){return t.DragDropTouch=n,i}}())}(this,(function(){"use strict";var t;return function(e){var n=function(){function t(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(t.prototype,"dropEffect",{enumerable:!0,configurable:!0,get:function(){return this._dropEffect},set:function(t){this._dropEffect=t}}),Object.defineProperty(t.prototype,"effectAllowed",{enumerable:!0,configurable:!0,get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=t}}),Object.defineProperty(t.prototype,"types",{enumerable:!0,configurable:!0,get:function(){return Object.keys(this._data)}}),t.prototype.clearData=function(t){null==t?this._data={}:delete this._data[t.toLowerCase()]},t.prototype.getData=function(t){return this._data[t.toLowerCase()]||""},t.prototype.setData=function(t,e){this._data[t.toLowerCase()]=e},t.prototype.setDragImage=function(t,e,n){var o=i._instance;o._imgCustom=t,o._imgOffset={x:e,y:n}},t}();e.DataTransfer=n;var i=function(){function t(){if(this._lastClick=0,null!=i&&null!=i._instance)throw new Error("DragDropTouch instance already created.");var t=!1;if(document.addEventListener("test",(function(){}),{get passive(){return t=!0,!0}}),navigator.maxTouchPoints>0){var e=this._touchstart.bind(this),n=this._touchmove.bind(this),o=this._touchend.bind(this),s=!!t&&{passive:!1,capture:!1};document.addEventListener("touchstart",e,s),document.addEventListener("touchmove",n,s),document.addEventListener("touchend",o),document.addEventListener("touchcancel",o)}}t.getInstance=function(){return i._instance},t.prototype._touchstart=function(t){var e=this;if(this._shouldHandle(t)){if(Date.now()-this._lastClick<i._DBLCLICK&&this._dispatchEvent(t,"dblclick",t.target))return t.preventDefault(),void this._reset();this._reset();var n=this._closestDraggable(t.target);null!=n&&(this._dispatchEvent(t,"mousemove",t.target)||this._dispatchEvent(t,"mousedown",t.target)||(this._dragSource=n,this._ptDown=this._getPoint(t),this._lastTouch=t,t.preventDefault(),setTimeout((function(){e._dragSource===n&&null==e._img&&e._dispatchEvent(t,"contextmenu",n)&&e._reset()}),i._CTXMENU),i._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout((function(){e._isDragEnabled=!0,e._touchmove(t)}),i._PRESSHOLDAWAIT))))}},t.prototype._touchmove=function(t){if(this._shouldCancelPressHoldMove(t))this._reset();else if(this._shouldHandleMove(t)||this._shouldHandlePressHoldMove(t)){var e=this._getTarget(t);if(this._dispatchEvent(t,"mousemove",e))return this._lastTouch=t,void t.preventDefault();if(null==this._lastTouch)return void(this._lastTouch=t);var n=this._getPoint(this._lastTouch,!0),i=this._getPoint(t,!0);this._lastMovementX=i.x-n.x,this._lastMovementY=i.y-n.y;var o={movementX:this._lastMovementX,movementY:this._lastMovementY};this._dragSource&&null==this._img&&this._shouldStartDragging(t)&&(this._dispatchEvent(t,"dragstart",this._dragSource,o),this._createImage(t),this._dispatchEvent(t,"dragenter",e,o)),null!=this._img&&(this._lastTouch=t,t.preventDefault(),this._dispatchEvent(t,"drag",this._dragSource,o),e!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget,o),this._dispatchEvent(t,"dragenter",e,o),this._lastTarget=e),this._moveImage(t),this._isDropZone=this._dispatchEvent(t,"dragover",e,o))}},t.prototype._touchend=function(t){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target))return void t.preventDefault();if(null==this._img&&(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource){var e={movementX:this._lastMovementX,movementY:this._lastMovementY};t.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget,e),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource,e),this._reset()}}},t.prototype._shouldHandle=function(t){return null!=t&&!t.defaultPrevented&&null!=t.touches&&t.touches.length<2},t.prototype._shouldHandleMove=function(t){return!i._ISPRESSHOLDMODE&&this._shouldHandle(t)},t.prototype._shouldHandlePressHoldMove=function(t){return i._ISPRESSHOLDMODE&&this._isDragEnabled&&null!=t&&null!=t.touches&&t.touches.length>0},t.prototype._shouldCancelPressHoldMove=function(t){return i._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(t)>i._PRESSHOLDMARGIN},t.prototype._shouldStartDragging=function(t){var e=this._getDelta(t);return e>i._THRESHOLD||i._ISPRESSHOLDMODE&&e>=i._PRESSHOLDTHRESHOLD},t.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new n,this._lastMovementX=0,this._lastMovementY=0,clearInterval(this._pressHoldInterval)},t.prototype._getPoint=function(t,e){if(null!=t&&null!=t.touches&&t.touches.length>0){var n=t.touches[0];return{x:e?n.pageX:n.clientX,y:e?n.pageY:n.clientY}}var i=t;return{x:e?i.pageX:i.clientX,y:e?i.pageY:i.clientY}},t.prototype._getDelta=function(t){if(i._ISPRESSHOLDMODE&&!this._ptDown)return 0;var e=this._getPoint(t);return Math.abs(e.x-this._ptDown.x)+Math.abs(e.y-this._ptDown.y)},t.prototype._getTarget=function(t){for(var e=this._getPoint(t),n=document.elementFromPoint(e.x,e.y);null!=n&&"none"==getComputedStyle(n).pointerEvents;)n=n.parentElement;return n},t.prototype._createImage=function(t){null!=this._img&&this._destroyImage();var e=this._imgCustom||this._dragSource;if(this._img=e.cloneNode(!0),this._copyStyle(e,this._img),this._img.style.top=this._img.style.left="-9999px",null==this._imgCustom){var n=e.getBoundingClientRect(),o=this._getPoint(t);this._imgOffset={x:o.x-n.left,y:o.y-n.top},this._img.style.opacity=i._OPACITY.toString()}this._moveImage(t),document.body.appendChild(this._img)},t.prototype._destroyImage=function(){null!=this._img&&null!=this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},t.prototype._moveImage=function(t){var e=this;requestAnimationFrame((function(){if(null!=e._img){var n=e._getPoint(t,!0),i=e._img.style;i.position="absolute",i.pointerEvents="none",i.zIndex="999999",i.left=Math.round(n.x-e._imgOffset.x)+"px",i.top=Math.round(n.y-e._imgOffset.y)+"px"}}))},t.prototype._copyProps=function(t,e,n){for(var i=0;i<n.length;i++){var o=n[i];t[o]=e[o]}},t.prototype._copyStyle=function(t,e){if(i._rmvAtts.forEach((function(t){e.removeAttribute(t)})),t instanceof HTMLCanvasElement){var n=t,o=e;o.width=n.width,o.height=n.height,o.getContext("2d").drawImage(n,0,0)}for(var s=getComputedStyle(t),r=0;r<s.length;r++){var a=s[r];a.indexOf("transition")<0&&(e.style[a]=s[a])}e.style.pointerEvents="none";for(r=0;r<t.children.length;r++)this._copyStyle(t.children[r],e.children[r])},t.prototype._dispatchEvent=function(t,e,n,o){if(null!=t&&null!=n){var s=document.createEvent("Event"),r=null!=t.touches?t.touches[0]:t;return s.initEvent(e,!0,!0),s.button=0,s.which=s.buttons=1,this._copyProps(s,t,i._kbdProps),this._copyProps(s,r,i._ptProps),s.dataTransfer=this._dataTransfer,null!=o&&(s.movementX=o.movementX,s.movementY=o.movementY),n.dispatchEvent(s),s.defaultPrevented}return!1},t.prototype._closestDraggable=function(t){for(;t;t=t.parentElement)if(t.hasAttribute("draggable")&&t.getAttribute("draggable"))return t;return null};var e=new t;return e._instance=e,e}();e.DragDropTouch=i;var o=t.DragDropTouch;o._THRESHOLD=5,o._OPACITY=.5,o._DBLCLICK=500,o._CTXMENU=900,o._ISPRESSHOLDMODE=!1,o._PRESSHOLDAWAIT=400,o._PRESSHOLDMARGIN=25,o._PRESSHOLDTHRESHOLD=0,o._rmvAtts="id,class,style,draggable".split(","),o._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),o._ptProps="pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY".split(",")}(t||(t={})),t}));
 //# sourceMappingURL=DragDropTouch.js.map
diff --git a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js.map b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js.map
index c2f5152..27e1bbe 100644
--- a/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js.map
+++ b/node_modules/dragdroptouch-bug-fixed/dist/DragDropTouch.js.map
@@ -1 +1 @@
-{"version":3,"file":"DragDropTouch.js","sources":["../src/DragDropTouch.ts"],"sourcesContent":["let DragDropTouch:any\n(function (DragDropTouchExport) {\n  type DropEffect    = 'none'|'copy'|'link'|'move'\n  type allowedEffect = (\n    'none'|'copy'|'copyLink'|'copyMove'|'link'|'linkMove'|'move'|'all'|'uninitialized'\n  )\n\n  type simulatedDataTransfer = {\n    _dropEffect:DropEffect,\n    _effectAllowed:allowedEffect\n    _data:{ [MIMEType:string]:any }\n  }\n\n  let DataTransfer = (function ():any {\n    function DataTransfer (this:simulatedDataTransfer) {\n      this._dropEffect = 'move'\n      this._effectAllowed = 'all'\n      this._data = {}\n    }\n\n    Object.defineProperty(DataTransfer.prototype, \"dropEffect\", {\n      enumerable:true, configurable:true,\n      get: function ()                 { return this._dropEffect },\n      set: function (value:DropEffect) { this._dropEffect = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"effectAllowed\", {\n      enumerable:true, configurable:true,\n      get: function ()                    { return this._effectAllowed },\n      set: function (value:allowedEffect) { this._effectAllowed = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"types\", {\n      enumerable:true, configurable:true,\n      get: function () { return Object.keys(this._data) },\n    })\n\n    DataTransfer.prototype.clearData = function (type:string):void {\n      if (type == null) {\n        this._data = {}\n      } else {\n        delete this._data[type.toLowerCase()]\n      }\n    }\n\n    DataTransfer.prototype.getData = function (type:string):any {\n      return this._data[type.toLowerCase()] || ''\n    }\n\n    DataTransfer.prototype.setData = function (type:string, value:string):void {\n      this._data[type.toLowerCase()] = value\n    }\n\n    DataTransfer.prototype.setDragImage = function (\n      img:Element, offsetX:number,offsetY:number\n    ) {\n      let ddt = DragDropTouchSingleton._instance\n      ddt._imgCustom = img\n      ddt._imgOffset = { x:offsetX, y:offsetY }\n    }\n\n    return DataTransfer\n  }())\n\n  DragDropTouchExport.DataTransfer = DataTransfer\n\n  type DragDropTouchInstance = {\n    _instance:DragDropTouchInstance,\n    getInstance: () => DragDropTouchInstance,\n\n    _lastClick:number,\n    _touchstart:(e:Event) => any,\n    _touchmove:(e:Event) => any,\n    _touchend:(e:Event) => any,\n\n    _imgCustom:Element,\n    _imgOffset: { x:number, y:number },\n\n    _THRESHOLD:number,\n    _OPACITY:number,\n    _DBLCLICK:number,\n    _CTXMENU:number,\n    _ISPRESSHOLDMODE:boolean,\n    _PRESSHOLDAWAIT:number,\n    _PRESSHOLDMARGIN:number,\n    _PRESSHOLDTHRESHOLD:number,\n\n    _rmvAtts:string[],\n    _kbdProps:string[],\n    _ptProps:string[],\n  }\n\n  let DragDropTouchSingleton:DragDropTouchInstance = (function () {\n    function DragDropTouch (this:DragDropTouchInstance) {\n      this._lastClick = 0\n\n      if (\n        (DragDropTouchSingleton != null) &&\n        (DragDropTouchSingleton._instance != null)\n      ) {\n        throw new Error('DragDropTouch instance already created.')\n      }\n\n      // https://github.com/Modernizr/Modernizr/issues/1894\n      let supportsPassive:boolean = false\n      document.addEventListener('test', function () {}, {\n        get passive() { supportsPassive = true; return true }\n      })\n\n      if (navigator.maxTouchPoints > 0) {\n        let touchstart = this._touchstart.bind(this)\n        let touchmove  = this._touchmove.bind(this)\n        let touchend   = this._touchend.bind(this)\n\n        let Options = (\n          supportsPassive ? { passive:false, capture:false } : false\n        )\n\n        document.addEventListener('touchstart',  touchstart, Options)\n        document.addEventListener('touchmove',   touchmove,  Options)\n        document.addEventListener('touchend',    touchend)\n        document.addEventListener('touchcancel', touchend)\n      }\n    }\n\n    DragDropTouch.getInstance = function ():DragDropTouchInstance {\n      return DragDropTouchSingleton._instance\n    }\n\n  /**** Event Handlers ****/\n\n    DragDropTouch.prototype._touchstart = function (e:Event) {\n      let _this = this\n      if (this._shouldHandle(e)) {\n        if (Date.now() - this._lastClick < DragDropTouchSingleton._DBLCLICK) {\n          if (this._dispatchEvent(e, 'dblclick', e.target)) {\n            e.preventDefault()\n            this._reset()\n            return\n          }\n        }\n\n        this._reset()\n\n        let src = this._closestDraggable(e.target)\n        if (src != null) {\n          if (\n            ! this._dispatchEvent(e, 'mousemove', e.target) &&\n            ! this._dispatchEvent(e, 'mousedown', e.target)\n          ) {\n            this._dragSource = src\n            this._ptDown     = this._getPoint(e)\n            this._lastTouch  = e\n            e.preventDefault()\n\n            setTimeout(function () {\n              if ((_this._dragSource === src) && (_this._img == null)) {\n                if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                  _this._reset()\n                }\n              }\n            }, DragDropTouchSingleton._CTXMENU)\n\n            if (DragDropTouchSingleton._ISPRESSHOLDMODE) {\n              this._pressHoldInterval = setTimeout(function () {\n                _this._isDragEnabled = true\n                _this._touchmove(e)\n              }, DragDropTouchSingleton._PRESSHOLDAWAIT)\n            }\n          }\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchmove = function (e:Event) {\n      if (this._shouldCancelPressHoldMove(e)) {\n        this._reset()\n        return\n      }\n\n      if (this._shouldHandleMove(e) || this._shouldHandlePressHoldMove(e)) {\n        let target = this._getTarget(e)\n        if (this._dispatchEvent(e, 'mousemove', target)) {\n          this._lastTouch = e\n          e.preventDefault()\n          return\n        }\n\n        let lastPointOnPage = this._getPoint(this._lastTouch,true)\n        let curPointOnPage  = this._getPoint(e,true)\n          this._lastMovementX = curPointOnPage.x - lastPointOnPage.x\n          this._lastMovementY = curPointOnPage.y - lastPointOnPage.y\n        let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n        if (this._dragSource && (this._img == null) && this._shouldStartDragging(e)) {\n          this._dispatchEvent(e, 'dragstart', this._dragSource, Extras)\n          this._createImage(e)\n          this._dispatchEvent(e, 'dragenter', target, Extras)\n        }\n\n        if (this._img != null) {\n          this._lastTouch = e\n          e.preventDefault()\n\n          this._dispatchEvent(e, 'drag', this._dragSource, Extras)\n\n          if (target != this._lastTarget) {\n            this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget, Extras)\n            this._dispatchEvent(e, 'dragenter', target, Extras)\n            this._lastTarget = target\n          }\n\n          this._moveImage(e)\n          this._isDropZone = this._dispatchEvent(e, 'dragover', target, Extras)\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchend = function (e:Event) {\n      if (this._shouldHandle(e)) {\n        if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n          e.preventDefault()\n          return\n        }\n\n        if (this._img == null) {\n          this._dragSource = null\n          this._dispatchEvent(this._lastTouch, 'click', e.target)\n          this._lastClick = Date.now()\n        }\n\n        this._destroyImage()\n        if (this._dragSource) {\n          let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n          if (e.type.indexOf('cancel') < 0 && this._isDropZone) {\n            this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget, Extras)\n          }\n          this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource, Extras)\n          this._reset()\n        }\n      }\n    }\n\n  /**** Utility Functions ****/\n\n    DragDropTouch.prototype._shouldHandle = function (e:Event):boolean {\n      return (\n        (e != null) && ! e.defaultPrevented &&\n        ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length < 2)\n      )\n    }\n\n    DragDropTouch.prototype._shouldHandleMove = function (e:Event):boolean {\n      return ! DragDropTouchSingleton._ISPRESSHOLDMODE && this._shouldHandle(e)\n    }\n\n    DragDropTouch.prototype._shouldHandlePressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && this._isDragEnabled &&\n        (e != null) && ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length > 0)\n      )\n    }\n\n    DragDropTouch.prototype._shouldCancelPressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._isDragEnabled &&\n        (this._getDelta(e) > DragDropTouchSingleton._PRESSHOLDMARGIN)\n      )\n    }\n\n    DragDropTouch.prototype._shouldStartDragging = function (e:Event):boolean {\n      let delta = this._getDelta(e)\n      return (\n        (delta > DragDropTouchSingleton._THRESHOLD) ||\n        DragDropTouchSingleton._ISPRESSHOLDMODE && (delta >= DragDropTouchSingleton._PRESSHOLDTHRESHOLD)\n      )\n    }\n\n    DragDropTouch.prototype._reset = function ():void {\n      this._destroyImage()\n      this._dragSource = null\n      this._lastTouch  = null\n      this._lastTarget = null\n      this._ptDown = null\n      this._isDragEnabled = false\n      this._isDropZone = false\n      this._dataTransfer = new DataTransfer()\n      this._lastMovementX = 0\n      this._lastMovementY = 0\n      clearInterval(this._pressHoldInterval)\n    }\n\n    DragDropTouch.prototype._getPoint = function (e:MouseEvent|TouchEvent, page:boolean):any {\n      if (\n        (e != null) && ((e as TouchEvent).touches != null) &&\n        ((e as TouchEvent).touches.length > 0)\n      ) {\n        let Touch = (e as TouchEvent).touches[0]\n        return { x: page ? Touch.pageX : Touch.clientX, y: page ? Touch.pageY : Touch.clientY }\n      } else {\n        let Event = e as MouseEvent\n        return { x: page ? Event.pageX : Event.clientX, y: page ? Event.pageY : Event.clientY }\n      }\n    }\n\n    DragDropTouch.prototype._getDelta = function (e:Event) {\n      if (DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._ptDown) { return 0 }\n      let p = this._getPoint(e)\n      return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y)\n    }\n\n    DragDropTouch.prototype._getTarget = function (e:Event) {\n      let pt = this._getPoint(e)\n      let el = document.elementFromPoint(pt.x, pt.y)\n\n      while ((el != null) && (getComputedStyle(el).pointerEvents == 'none')) {\n        el = el.parentElement\n      }\n      return el\n    }\n\n    DragDropTouch.prototype._createImage = function (e:Event):void {\n      if (this._img != null) { this._destroyImage() }\n\n      let src = this._imgCustom || this._dragSource\n      this._img = src.cloneNode(true)\n      this._copyStyle(src, this._img)\n      this._img.style.top = this._img.style.left = '-9999px'\n\n      if (this._imgCustom == null) {\n        let rc = src.getBoundingClientRect()\n        let pt = this._getPoint(e)\n\n        this._imgOffset = { x: pt.x - rc.left, y: pt.y - rc.top }\n        this._img.style.opacity = DragDropTouchSingleton._OPACITY.toString()\n      }\n\n      this._moveImage(e)\n      document.body.appendChild(this._img)\n    }\n\n    DragDropTouch.prototype._destroyImage = function ():void {\n      if ((this._img != null) && (this._img.parentElement != null)) {\n        this._img.parentElement.removeChild(this._img)\n      }\n      this._img = null\n      this._imgCustom = null\n    }\n\n    DragDropTouch.prototype._moveImage = function (e:Event) {\n      let _this = this\n      requestAnimationFrame(function () {\n        if (_this._img != null) {\n          let pt = _this._getPoint(e, true), s = _this._img.style\n          s.position = 'absolute'\n          s.pointerEvents = 'none'\n          s.zIndex = '999999'\n          s.left = Math.round(pt.x - _this._imgOffset.x) + 'px'\n          s.top = Math.round(pt.y - _this._imgOffset.y) + 'px'\n        }\n      })\n    }\n\n    DragDropTouch.prototype._copyProps = function (\n      dst:any, src:any, props:string[]\n    ):void {\n      for (let i = 0; i < props.length; i++) {\n        let p = props[i]\n        dst[p] = src[p]\n      }\n    }\n\n    DragDropTouch.prototype._copyStyle = function (src:any, dst:any):void {\n      DragDropTouchSingleton._rmvAtts.forEach(function (att:string) {\n        dst.removeAttribute(att)\n      })\n\n      if (src instanceof HTMLCanvasElement) {\n        let cSrc = src, cDst = dst\n        cDst.width = cSrc.width\n        cDst.height = cSrc.height\n        cDst.getContext('2d').drawImage(cSrc, 0, 0)\n      }\n\n      let cs = getComputedStyle(src) as any // poor trick to satisfy compiler\n      for (let i = 0; i < cs.length; i++) {\n        let key = cs[i]\n        if (key.indexOf('transition') < 0) {\n          dst.style[key] = cs[key]\n        }\n      }\n      dst.style.pointerEvents = 'none'\n\n      for (let i = 0; i < src.children.length; i++) {\n        this._copyStyle(src.children[i], dst.children[i])\n      }\n    }\n\n    DragDropTouch.prototype._dispatchEvent = function (\n      e:any /* poor TypeScript trick */, type:string, target:Element,\n      Extras?:{ movementX:number, movementY:number }\n    ):boolean {\n      if ((e != null) && (target != null)) {\n        let evt = document.createEvent('Event') as any // poor trick to satisfy compiler\n        let t = (e['touches'] != null) ? e['touches'][0] : e\n          evt.initEvent(type, true, true)\n          evt['button'] = 0\n          evt['which'] = evt['buttons'] = 1\n          this._copyProps(evt, e, DragDropTouchSingleton._kbdProps)\n          this._copyProps(evt, t, DragDropTouchSingleton._ptProps)\n          evt['dataTransfer'] = this._dataTransfer\n\n          if (Extras != null) {\n            evt['movementX'] = Extras.movementX\n            evt['movementY'] = Extras.movementY\n          }\n        target.dispatchEvent(evt)\n        return evt.defaultPrevented\n      }\n      return false\n    }\n\n    DragDropTouch.prototype._closestDraggable = function (e:Element|null) {\n      for (; e; e = e.parentElement) {\n        if (e.hasAttribute('draggable') && e.getAttribute('draggable')) {\n          return e\n        }\n      }\n      return null\n    }\n\n// @ts-ignore\n    let Singleton = new DragDropTouch()\n      Singleton._instance = Singleton\n    return Singleton\n  }())\n\n  DragDropTouchExport.DragDropTouch = DragDropTouchSingleton\n\n  let Singleton = DragDropTouch.DragDropTouch\n\n  Singleton._THRESHOLD = 5; // pixels to move before drag starts\n  Singleton._OPACITY = 0.5; // drag image opacity\n  Singleton._DBLCLICK = 500; // max ms between clicks in a double click\n  Singleton._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n  Singleton._ISPRESSHOLDMODE = false; // decides of press & hold mode presence\n  Singleton._PRESSHOLDAWAIT = 400; // ms to wait before press & hold is detected\n  Singleton._PRESSHOLDMARGIN = 25; // pixels that finger might shiver while pressing\n  Singleton._PRESSHOLDTHRESHOLD = 0; // pixels to move before drag starts\n\n  Singleton._rmvAtts = 'id,class,style,draggable'.split(',')\n\n  Singleton._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',')\n  Singleton._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY'.split(',')\n})(DragDropTouch || (DragDropTouch = {}))\n\nexport default DragDropTouch\n\n"],"names":["DragDropTouch","DragDropTouchExport","DataTransfer","this","_dropEffect","_effectAllowed","_data","Object","defineProperty","prototype","enumerable","configurable","get","set","value","keys","clearData","type","toLowerCase","getData","setData","setDragImage","img","offsetX","offsetY","ddt","DragDropTouchSingleton","_instance","_imgCustom","_imgOffset","x","y","_lastClick","Error","supportsPassive","document","addEventListener","passive","navigator","maxTouchPoints","touchstart","_touchstart","bind","touchmove","_touchmove","touchend","_touchend","Options","capture","getInstance","e","_this","_shouldHandle","Date","now","_DBLCLICK","_dispatchEvent","target","preventDefault","_reset","src_1","_closestDraggable","_dragSource","_ptDown","_getPoint","_lastTouch","setTimeout","_img","_CTXMENU","_ISPRESSHOLDMODE","_pressHoldInterval","_isDragEnabled","_PRESSHOLDAWAIT","_shouldCancelPressHoldMove","_shouldHandleMove","_shouldHandlePressHoldMove","_getTarget","lastPointOnPage","curPointOnPage","_lastMovementX","_lastMovementY","Extras","movementX","movementY","_shouldStartDragging","_createImage","_lastTarget","_moveImage","_isDropZone","_destroyImage","indexOf","defaultPrevented","touches","length","_getDelta","_PRESSHOLDMARGIN","delta","_THRESHOLD","_PRESSHOLDTHRESHOLD","_dataTransfer","clearInterval","page","Touch_1","pageX","clientX","pageY","clientY","Event_1","p","Math","abs","pt","el","elementFromPoint","getComputedStyle","pointerEvents","parentElement","src","cloneNode","_copyStyle","style","top","left","rc","getBoundingClientRect","opacity","_OPACITY","toString","body","appendChild","removeChild","requestAnimationFrame","s","position","zIndex","round","_copyProps","dst","props","i","_rmvAtts","forEach","att","removeAttribute","HTMLCanvasElement","cSrc","cDst","width","height","getContext","drawImage","cs","key","children","evt","createEvent","t","initEvent","_kbdProps","_ptProps","dispatchEvent","hasAttribute","getAttribute","Singleton","split"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"DragDropTouch.js","sources":["../src/DragDropTouch.ts"],"sourcesContent":["let DragDropTouch:any\n(function (DragDropTouchExport) {\n  type DropEffect    = 'none'|'copy'|'link'|'move'\n  type allowedEffect = (\n    'none'|'copy'|'copyLink'|'copyMove'|'link'|'linkMove'|'move'|'all'|'uninitialized'\n  )\n\n  type simulatedDataTransfer = {\n    _dropEffect:DropEffect,\n    _effectAllowed:allowedEffect\n    _data:{ [MIMEType:string]:any }\n  }\n\n  let DataTransfer = (function ():any {\n    function DataTransfer (this:simulatedDataTransfer) {\n      this._dropEffect = 'move'\n      this._effectAllowed = 'all'\n      this._data = {}\n    }\n\n    Object.defineProperty(DataTransfer.prototype, \"dropEffect\", {\n      enumerable:true, configurable:true,\n      get: function ()                 { return this._dropEffect },\n      set: function (value:DropEffect) { this._dropEffect = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"effectAllowed\", {\n      enumerable:true, configurable:true,\n      get: function ()                    { return this._effectAllowed },\n      set: function (value:allowedEffect) { this._effectAllowed = value },\n    })\n\n    Object.defineProperty(DataTransfer.prototype, \"types\", {\n      enumerable:true, configurable:true,\n      get: function () { return Object.keys(this._data) },\n    })\n\n    DataTransfer.prototype.clearData = function (type:string):void {\n      if (type == null) {\n        this._data = {}\n      } else {\n        delete this._data[type.toLowerCase()]\n      }\n    }\n\n    DataTransfer.prototype.getData = function (type:string):any {\n      return this._data[type.toLowerCase()] || ''\n    }\n\n    DataTransfer.prototype.setData = function (type:string, value:string):void {\n      this._data[type.toLowerCase()] = value\n    }\n\n    DataTransfer.prototype.setDragImage = function (\n      img:Element, offsetX:number,offsetY:number\n    ) {\n      let ddt = DragDropTouchSingleton._instance\n      ddt._imgCustom = img\n      ddt._imgOffset = { x:offsetX, y:offsetY }\n    }\n\n    return DataTransfer\n  }())\n\n  DragDropTouchExport.DataTransfer = DataTransfer\n\n  type DragDropTouchInstance = {\n    _instance:DragDropTouchInstance,\n    getInstance: () => DragDropTouchInstance,\n\n    _lastClick:number,\n    _touchstart:(e:Event) => any,\n    _touchmove:(e:Event) => any,\n    _touchend:(e:Event) => any,\n\n    _imgCustom:Element,\n    _imgOffset: { x:number, y:number },\n\n    _THRESHOLD:number,\n    _OPACITY:number,\n    _DBLCLICK:number,\n    _CTXMENU:number,\n    _ISPRESSHOLDMODE:boolean,\n    _PRESSHOLDAWAIT:number,\n    _PRESSHOLDMARGIN:number,\n    _PRESSHOLDTHRESHOLD:number,\n\n    _rmvAtts:string[],\n    _kbdProps:string[],\n    _ptProps:string[],\n  }\n\n  let DragDropTouchSingleton:DragDropTouchInstance = (function () {\n    function DragDropTouch (this:DragDropTouchInstance) {\n      this._lastClick = 0\n\n      if (\n        (DragDropTouchSingleton != null) &&\n        (DragDropTouchSingleton._instance != null)\n      ) {\n        throw new Error('DragDropTouch instance already created.')\n      }\n\n      // https://github.com/Modernizr/Modernizr/issues/1894\n      let supportsPassive:boolean = false\n      document.addEventListener('test', function () {}, {\n        get passive() { supportsPassive = true; return true }\n      })\n\n      if (navigator.maxTouchPoints > 0) {\n        let touchstart = this._touchstart.bind(this)\n        let touchmove  = this._touchmove.bind(this)\n        let touchend   = this._touchend.bind(this)\n\n        let Options = (\n          supportsPassive ? { passive:false, capture:false } : false\n        )\n\n        document.addEventListener('touchstart',  touchstart, Options)\n        document.addEventListener('touchmove',   touchmove,  Options)\n        document.addEventListener('touchend',    touchend)\n        document.addEventListener('touchcancel', touchend)\n      }\n    }\n\n    DragDropTouch.getInstance = function ():DragDropTouchInstance {\n      return DragDropTouchSingleton._instance\n    }\n\n  /**** Event Handlers ****/\n\n    DragDropTouch.prototype._touchstart = function (e:Event) {\n      let _this = this\n      if (this._shouldHandle(e)) {\n        if (Date.now() - this._lastClick < DragDropTouchSingleton._DBLCLICK) {\n          if (this._dispatchEvent(e, 'dblclick', e.target)) {\n            e.preventDefault()\n            this._reset()\n            return\n          }\n        }\n\n        this._reset()\n\n        let src = this._closestDraggable(e.target)\n        if (src != null) {\n          if (\n            ! this._dispatchEvent(e, 'mousemove', e.target) &&\n            ! this._dispatchEvent(e, 'mousedown', e.target)\n          ) {\n            this._dragSource = src\n            this._ptDown     = this._getPoint(e)\n            this._lastTouch  = e\n            e.preventDefault()\n\n            setTimeout(function () {\n              if ((_this._dragSource === src) && (_this._img == null)) {\n                if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                  _this._reset()\n                }\n              }\n            }, DragDropTouchSingleton._CTXMENU)\n\n            if (DragDropTouchSingleton._ISPRESSHOLDMODE) {\n              this._pressHoldInterval = setTimeout(function () {\n                _this._isDragEnabled = true\n                _this._touchmove(e)\n              }, DragDropTouchSingleton._PRESSHOLDAWAIT)\n            }\n          }\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchmove = function (e:Event) {\n      if (this._shouldCancelPressHoldMove(e)) {\n        this._reset()\n        return\n      }\n\n      if (this._shouldHandleMove(e) || this._shouldHandlePressHoldMove(e)) {\n        let target = this._getTarget(e)\n        if (this._dispatchEvent(e, 'mousemove', target)) {\n          this._lastTouch = e\n          e.preventDefault()\n          return\n        }\n        if (this._lastTouch == null) {\n          this._lastTouch = e\n          return\n        }\n\n        let lastPointOnPage = this._getPoint(this._lastTouch,true)\n        let curPointOnPage  = this._getPoint(e,true)\n          this._lastMovementX = curPointOnPage.x - lastPointOnPage.x\n          this._lastMovementY = curPointOnPage.y - lastPointOnPage.y\n        let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n        if (this._dragSource && (this._img == null) && this._shouldStartDragging(e)) {\n          this._dispatchEvent(e, 'dragstart', this._dragSource, Extras)\n          this._createImage(e)\n          this._dispatchEvent(e, 'dragenter', target, Extras)\n        }\n\n        if (this._img != null) {\n          this._lastTouch = e\n          e.preventDefault()\n\n          this._dispatchEvent(e, 'drag', this._dragSource, Extras)\n\n          if (target != this._lastTarget) {\n            this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget, Extras)\n            this._dispatchEvent(e, 'dragenter', target, Extras)\n            this._lastTarget = target\n          }\n\n          this._moveImage(e)\n          this._isDropZone = this._dispatchEvent(e, 'dragover', target, Extras)\n        }\n      }\n    }\n\n    DragDropTouch.prototype._touchend = function (e:Event) {\n      if (this._shouldHandle(e)) {\n        if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n          e.preventDefault()\n          return\n        }\n\n        if (this._img == null) {\n          this._dragSource = null\n          this._dispatchEvent(this._lastTouch, 'click', e.target)\n          this._lastClick = Date.now()\n        }\n\n        this._destroyImage()\n        if (this._dragSource) {\n          let Extras = { movementX:this._lastMovementX, movementY:this._lastMovementY }\n\n          if (e.type.indexOf('cancel') < 0 && this._isDropZone) {\n            this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget, Extras)\n          }\n          this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource, Extras)\n          this._reset()\n        }\n      }\n    }\n\n  /**** Utility Functions ****/\n\n    DragDropTouch.prototype._shouldHandle = function (e:Event):boolean {\n      return (\n        (e != null) && ! e.defaultPrevented &&\n        ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length < 2)\n      )\n    }\n\n    DragDropTouch.prototype._shouldHandleMove = function (e:Event):boolean {\n      return ! DragDropTouchSingleton._ISPRESSHOLDMODE && this._shouldHandle(e)\n    }\n\n    DragDropTouch.prototype._shouldHandlePressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && this._isDragEnabled &&\n        (e != null) && ((e as TouchEvent).touches != null) && ((e as TouchEvent).touches.length > 0)\n      )\n    }\n\n    DragDropTouch.prototype._shouldCancelPressHoldMove = function (e:Event):boolean {\n      return (\n        DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._isDragEnabled &&\n        (this._getDelta(e) > DragDropTouchSingleton._PRESSHOLDMARGIN)\n      )\n    }\n\n    DragDropTouch.prototype._shouldStartDragging = function (e:Event):boolean {\n      let delta = this._getDelta(e)\n      return (\n        (delta > DragDropTouchSingleton._THRESHOLD) ||\n        DragDropTouchSingleton._ISPRESSHOLDMODE && (delta >= DragDropTouchSingleton._PRESSHOLDTHRESHOLD)\n      )\n    }\n\n    DragDropTouch.prototype._reset = function ():void {\n      this._destroyImage()\n      this._dragSource = null\n      this._lastTouch  = null\n      this._lastTarget = null\n      this._ptDown = null\n      this._isDragEnabled = false\n      this._isDropZone = false\n      this._dataTransfer = new DataTransfer()\n      this._lastMovementX = 0\n      this._lastMovementY = 0\n      clearInterval(this._pressHoldInterval)\n    }\n\n    DragDropTouch.prototype._getPoint = function (e:MouseEvent|TouchEvent, page:boolean):any {\n      if (\n        (e != null) && ((e as TouchEvent).touches != null) &&\n        ((e as TouchEvent).touches.length > 0)\n      ) {\n        let Touch = (e as TouchEvent).touches[0]\n        return { x: page ? Touch.pageX : Touch.clientX, y: page ? Touch.pageY : Touch.clientY }\n      } else {\n        let Event = e as MouseEvent\n        return { x: page ? Event.pageX : Event.clientX, y: page ? Event.pageY : Event.clientY }\n      }\n    }\n\n    DragDropTouch.prototype._getDelta = function (e:Event) {\n      if (DragDropTouchSingleton._ISPRESSHOLDMODE && ! this._ptDown) { return 0 }\n      let p = this._getPoint(e)\n      return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y)\n    }\n\n    DragDropTouch.prototype._getTarget = function (e:Event) {\n      let pt = this._getPoint(e)\n      let el = document.elementFromPoint(pt.x, pt.y)\n\n      while ((el != null) && (getComputedStyle(el).pointerEvents == 'none')) {\n        el = el.parentElement\n      }\n      return el\n    }\n\n    DragDropTouch.prototype._createImage = function (e:Event):void {\n      if (this._img != null) { this._destroyImage() }\n\n      let src = this._imgCustom || this._dragSource\n      this._img = src.cloneNode(true)\n      this._copyStyle(src, this._img)\n      this._img.style.top = this._img.style.left = '-9999px'\n\n      if (this._imgCustom == null) {\n        let rc = src.getBoundingClientRect()\n        let pt = this._getPoint(e)\n\n        this._imgOffset = { x: pt.x - rc.left, y: pt.y - rc.top }\n        this._img.style.opacity = DragDropTouchSingleton._OPACITY.toString()\n      }\n\n      this._moveImage(e)\n      document.body.appendChild(this._img)\n    }\n\n    DragDropTouch.prototype._destroyImage = function ():void {\n      if ((this._img != null) && (this._img.parentElement != null)) {\n        this._img.parentElement.removeChild(this._img)\n      }\n      this._img = null\n      this._imgCustom = null\n    }\n\n    DragDropTouch.prototype._moveImage = function (e:Event) {\n      let _this = this\n      requestAnimationFrame(function () {\n        if (_this._img != null) {\n          let pt = _this._getPoint(e, true), s = _this._img.style\n          s.position = 'absolute'\n          s.pointerEvents = 'none'\n          s.zIndex = '999999'\n          s.left = Math.round(pt.x - _this._imgOffset.x) + 'px'\n          s.top = Math.round(pt.y - _this._imgOffset.y) + 'px'\n        }\n      })\n    }\n\n    DragDropTouch.prototype._copyProps = function (\n      dst:any, src:any, props:string[]\n    ):void {\n      for (let i = 0; i < props.length; i++) {\n        let p = props[i]\n        dst[p] = src[p]\n      }\n    }\n\n    DragDropTouch.prototype._copyStyle = function (src:any, dst:any):void {\n      DragDropTouchSingleton._rmvAtts.forEach(function (att:string) {\n        dst.removeAttribute(att)\n      })\n\n      if (src instanceof HTMLCanvasElement) {\n        let cSrc = src, cDst = dst\n        cDst.width = cSrc.width\n        cDst.height = cSrc.height\n        cDst.getContext('2d').drawImage(cSrc, 0, 0)\n      }\n\n      let cs = getComputedStyle(src) as any // poor trick to satisfy compiler\n      for (let i = 0; i < cs.length; i++) {\n        let key = cs[i]\n        if (key.indexOf('transition') < 0) {\n          dst.style[key] = cs[key]\n        }\n      }\n      dst.style.pointerEvents = 'none'\n\n      for (let i = 0; i < src.children.length; i++) {\n        this._copyStyle(src.children[i], dst.children[i])\n      }\n    }\n\n    DragDropTouch.prototype._dispatchEvent = function (\n      e:any /* poor TypeScript trick */, type:string, target:Element,\n      Extras?:{ movementX:number, movementY:number }\n    ):boolean {\n      if ((e != null) && (target != null)) {\n        let evt = document.createEvent('Event') as any // poor trick to satisfy compiler\n        let t = (e['touches'] != null) ? e['touches'][0] : e\n          evt.initEvent(type, true, true)\n          evt['button'] = 0\n          evt['which'] = evt['buttons'] = 1\n          this._copyProps(evt, e, DragDropTouchSingleton._kbdProps)\n          this._copyProps(evt, t, DragDropTouchSingleton._ptProps)\n          evt['dataTransfer'] = this._dataTransfer\n\n          if (Extras != null) {\n            evt['movementX'] = Extras.movementX\n            evt['movementY'] = Extras.movementY\n          }\n        target.dispatchEvent(evt)\n        return evt.defaultPrevented\n      }\n      return false\n    }\n\n    DragDropTouch.prototype._closestDraggable = function (e:Element|null) {\n      for (; e; e = e.parentElement) {\n        if (e.hasAttribute('draggable') && e.getAttribute('draggable')) {\n          return e\n        }\n      }\n      return null\n    }\n\n// @ts-ignore\n    let Singleton = new DragDropTouch()\n      Singleton._instance = Singleton\n    return Singleton\n  }())\n\n  DragDropTouchExport.DragDropTouch = DragDropTouchSingleton\n\n  let Singleton = DragDropTouch.DragDropTouch\n\n  Singleton._THRESHOLD = 5; // pixels to move before drag starts\n  Singleton._OPACITY = 0.5; // drag image opacity\n  Singleton._DBLCLICK = 500; // max ms between clicks in a double click\n  Singleton._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n  Singleton._ISPRESSHOLDMODE = false; // decides of press & hold mode presence\n  Singleton._PRESSHOLDAWAIT = 400; // ms to wait before press & hold is detected\n  Singleton._PRESSHOLDMARGIN = 25; // pixels that finger might shiver while pressing\n  Singleton._PRESSHOLDTHRESHOLD = 0; // pixels to move before drag starts\n\n  Singleton._rmvAtts = 'id,class,style,draggable'.split(',')\n\n  Singleton._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',')\n  Singleton._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY'.split(',')\n})(DragDropTouch || (DragDropTouch = {}))\n\nexport default DragDropTouch\n\n"],"names":["DragDropTouch","DragDropTouchExport","DataTransfer","this","_dropEffect","_effectAllowed","_data","Object","defineProperty","prototype","enumerable","configurable","get","set","value","keys","clearData","type","toLowerCase","getData","setData","setDragImage","img","offsetX","offsetY","ddt","DragDropTouchSingleton","_instance","_imgCustom","_imgOffset","x","y","_lastClick","Error","supportsPassive","document","addEventListener","passive","navigator","maxTouchPoints","touchstart","_touchstart","bind","touchmove","_touchmove","touchend","_touchend","Options","capture","getInstance","e","_this","_shouldHandle","Date","now","_DBLCLICK","_dispatchEvent","target","preventDefault","_reset","src_1","_closestDraggable","_dragSource","_ptDown","_getPoint","_lastTouch","setTimeout","_img","_CTXMENU","_ISPRESSHOLDMODE","_pressHoldInterval","_isDragEnabled","_PRESSHOLDAWAIT","_shouldCancelPressHoldMove","_shouldHandleMove","_shouldHandlePressHoldMove","_getTarget","lastPointOnPage","curPointOnPage","_lastMovementX","_lastMovementY","Extras","movementX","movementY","_shouldStartDragging","_createImage","_lastTarget","_moveImage","_isDropZone","_destroyImage","indexOf","defaultPrevented","touches","length","_getDelta","_PRESSHOLDMARGIN","delta","_THRESHOLD","_PRESSHOLDTHRESHOLD","_dataTransfer","clearInterval","page","Touch_1","pageX","clientX","pageY","clientY","Event_1","p","Math","abs","pt","el","elementFromPoint","getComputedStyle","pointerEvents","parentElement","src","cloneNode","_copyStyle","style","top","left","rc","getBoundingClientRect","opacity","_OPACITY","toString","body","appendChild","removeChild","requestAnimationFrame","s","position","zIndex","round","_copyProps","dst","props","i","_rmvAtts","forEach","att","removeAttribute","HTMLCanvasElement","cSrc","cDst","width","height","getContext","drawImage","cs","key","children","evt","createEvent","t","initEvent","_kbdProps","_ptProps","dispatchEvent","hasAttribute","getAttribute","Singleton","split"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/dragdroptouch-bug-fixed/src/DragDropTouch.ts b/node_modules/dragdroptouch-bug-fixed/src/DragDropTouch.ts
index bd8a280..a84e9e5 100644
--- a/node_modules/dragdroptouch-bug-fixed/src/DragDropTouch.ts
+++ b/node_modules/dragdroptouch-bug-fixed/src/DragDropTouch.ts
@@ -185,6 +185,10 @@ let DragDropTouch:any
           e.preventDefault()
           return
         }
+        if (this._lastTouch == null) {
+          this._lastTouch = e
+          return
+        }
 
         let lastPointOnPage = this._getPoint(this._lastTouch,true)
         let curPointOnPage  = this._getPoint(e,true)
